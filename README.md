# Задание L0
### Сервис, который получает информацию от публикатора jetstream о заказах и отображает её.

## Использование:

1. Запустить в докере postgres и nats-server:
```
docker compose up
```
2. Запустить публикатора. Он создает канал, через который сервис получает информацию. Публикатор отправляет трижды в канал информацию о заказе с периодичностью в 5 секунд после чего завершает работу и удаляет канал.
```
go run cmd/publisher/main.go
```
3. Запустить сервис. Он по каналу получает информацию о заказе. Также поднимает http сервер, который по id отображает информацию о заказе. Сервис игнорирует уничтожение канала и таймауты на получение сообщений.
```
go run cmd/subscriber/main.go
```

## Работа http сервера:
### Шаблон пути для отображения информации о заказе по id:
/orders?id=<id заказа>

## Результат стресс теста:
Тестирование проводилось с использованием утилиты wrk
```
./wrk -t12 -c400 -d30s http://localhost:8080/orders/?id=b563feb7b2b84b6test
```
Результат:
```
Running 30s test @ http://localhost:8080/orders?id=b563feb7b2b84b6test
  12 threads and 400 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   166.53ms  191.17ms   1.52s    84.30%
    Req/Sec   298.64    148.27     1.30k    74.04%
  106969 requests in 30.10s, 245.65MB read
Requests/sec:   3554.16
Transfer/sec:      8.16MB
```
